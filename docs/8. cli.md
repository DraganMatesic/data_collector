[← Back to index](1.%20index.md)

# CLI Reference

## Overview

Data Collector provides command-line entry points for common operations. All commands are invoked via `python -m`.

## Database Deployment

**Source:** `data_collector/tables/__main__.py`

Manages database schema creation and codebook seeding from the terminal.

```bash
python -m data_collector.tables <command>
```

### Commands

| Command | Description |
|---------|-------------|
| `create` | Creates all tables defined in `Base.metadata` (safe to run repeatedly — skips existing tables) |
| `populate` | Seeds codebook tables with reference data from `data_collector.enums` via SHA-based merge |
| `setup` | Runs `create` then `populate` in sequence |

### Usage

```bash
# Create tables only
python -m data_collector.tables create

# Seed codebook data only (tables must exist)
python -m data_collector.tables populate

# Full setup: create tables + seed codebooks
python -m data_collector.tables setup
```

### Prerequisites

Database connection environment variables must be set before running any command. See [7. deployment.md](7.%20deployment.md#step-1-configure-environment-variables) for the full list.

```bash
# Required
DC_DB_MAIN_USERNAME=myuser
DC_DB_MAIN_PASSWORD=mypassword
DC_DB_MAIN_DATABASENAME=data_collector
DC_DB_MAIN_IP=localhost
DC_DB_MAIN_PORT=5432
```

## Documentation Validator

**Source:** `data_collector/utilities/validate_docs.py`

Validates documentation files against framework conventions. Enforced in CI.

```bash
python data_collector/utilities/validate_docs.py
```

## Test Commands

Run from the project root:

```bash
# Unit + quality tests
pytest tests/unit tests/quality

# Unit tests with coverage
pytest tests/unit tests/quality --cov=data_collector --cov-report=term-missing

# Integration tests (requires database)
pytest tests/integration
```
