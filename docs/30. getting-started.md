[← Back to index](1.%20index.md)

# Getting Started

## Prerequisites

- **Python** 3.13+
- **Database server**: PostgreSQL (recommended for development) or MSSQL
- **Git** for version control
- **Platform**: Developed and tested primarily on Windows, but fully deployable on Linux including Docker containers and cloud environments

## Installation

### 1. Clone the Repository

```bash
git clone https://github.com/DraganMatesic/data_collector.git
cd data_collector
```

### 2. Create a Virtual Environment

```bash
python -m venv .venv

# Windows
.venv\Scripts\activate

# Linux/macOS
source .venv/bin/activate
```

### 3. Install Dependencies

```bash
pip install -r requirements.txt
```

Or install as an editable package (recommended for development):

```bash
pip install -e .
```

### 4. Optional: Install Database-Specific Drivers

```bash
# MSSQL support
pip install pyodbc
```

## Environment Setup

### Required Environment Variables

Set these variables for the framework database (where apps, logs, and runtime data are stored):

```bash
# Database credentials
DC_DB_MAIN_USERNAME=myuser
DC_DB_MAIN_PASSWORD=mypassword
DC_DB_MAIN_DATABASENAME=data_collector

# Host (choose ip:port OR server_name)
DC_DB_MAIN_IP=localhost
DC_DB_MAIN_PORT=5432
```

**Windows** — set via System Properties > Environment Variables, or PowerShell:
```powershell
[System.Environment]::SetEnvironmentVariable("DC_DB_MAIN_USERNAME", "myuser", "User")
```

**Linux/macOS** — add to `~/.bashrc` or `~/.zshrc`:
```bash
export DC_DB_MAIN_USERNAME=myuser
```

Or use the `SecretLoader` for encrypted credential management — see [2. secrets.md](2.%20secrets.md).

## Framework Initialization

### Deploy the Schema

```python
from data_collector.tables.deploy import Deploy

api = Deploy()
api.create_tables()      # Create all framework tables
api.populate_tables()    # Seed codebook reference data
```

### Verify Installation

```python
from data_collector.utilities.database.main import Database
from data_collector.settings.main import MainDatabaseSettings

database = Database(MainDatabaseSettings())

with database.create_session() as session:
    from data_collector.tables import Apps
    count = database.query(session, Apps).count()
    print(f"Apps table accessible. {count} apps registered.")
```

## Your First Database Connection

### Connect and Query

```python
from sqlalchemy import and_
from data_collector.utilities.database.main import Database
from data_collector.settings.main import MainDatabaseSettings
from data_collector.tables import Apps

# Create database instance
database = Database(MainDatabaseSettings())

# Query apps
with database.create_session() as session:
    apps = database.query(session, Apps).all()
    for app in apps:
        print(f"{app.group_name}/{app.parent_name}/{app.app_name}")
```

### Connect to an Additional Database

```python
from pydantic import Field
from data_collector.settings.main import DatabaseSettings, DatabaseType, DatabaseDriver
from data_collector.utilities.database.main import Database

class MyDbSettings(DatabaseSettings):
    username: str = Field(..., alias="MY_DB_USERNAME")
    password: str = Field(..., alias="MY_DB_PASSWORD")
    database_name: str = Field(..., alias="MY_DB_NAME")
    ip: str = Field(..., alias="MY_DB_IP")
    port: int = Field(..., alias="MY_DB_PORT")
    database_type: DatabaseType = DatabaseType.POSTGRES
    database_driver: DatabaseDriver = DatabaseDriver.POSTGRES

my_db = Database(MyDbSettings())
```

## Project Structure for Your Apps

Recommended directory layout for building applications on the framework:

```
your_project/
├── .env                        # Environment variables (not committed)
├── requirements.txt            # Include data_collector as dependency
│
├── apps/                       # Your application code
│   ├── germany/                # Group (country)
│   │   ├── bundesbank/         # Parent (data source)
│   │   │   ├── interest_rates/ # App
│   │   │   │   ├── main.py     # Entry point
│   │   │   │   ├── parser.py   # Data extraction logic
│   │   │   │   └── tables.py   # ORM models
│   │   │   └── exchange_rates/
│   │   │       └── ...
│   │   └── ...
│   └── uk/
│       └── ...
│
└── config/                     # Custom settings classes
    └── settings.py
```

## Next Steps

- [31. Building Your First App](31.%20first-app.md) — Step-by-step tutorial
- [32. App Patterns & Best Practices](32.%20app-patterns.md) — Recommended patterns
- [4.1. Database](4.1.%20database.md) — Full Database class reference
- [5. Logging](5.%20logging.md) — Logging system setup
